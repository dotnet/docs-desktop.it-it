---
title: Panoramica dell'input del mouse
description: Informazioni sul funzionamento dell'input del mouse in Windows Forms per .NET. Gli eventi del mouse vengono generati da form e controlli e rappresentano lo stato della posizione e del pulsante del mouse.
ms.date: 10/26/2020
ms.topic: overview
helpviewer_keywords:
- Windows Forms, mouse input
- mouse [Windows Forms], input
ms.openlocfilehash: 3e85305796d724d9acdbcd2e7cb86e748c30b783
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/09/2020
ms.locfileid: "96965878"
---
# <a name="overview-of-using-the-mouse-windows-forms-net"></a><span data-ttu-id="69877-104">Panoramica dell'uso del mouse (Windows Forms .NET)</span><span class="sxs-lookup"><span data-stu-id="69877-104">Overview of using the mouse (Windows Forms .NET)</span></span>

<span data-ttu-id="69877-105">La ricezione e la gestione di input del mouse è una parte importante di ogni applicazione Windows.</span><span class="sxs-lookup"><span data-stu-id="69877-105">Receiving and handling mouse input is an important part of every Windows application.</span></span> <span data-ttu-id="69877-106">È possibile gestire gli eventi del mouse per eseguire un'azione nell'applicazione oppure utilizzare le informazioni sulla posizione del mouse per eseguire hit testing o altre azioni.</span><span class="sxs-lookup"><span data-stu-id="69877-106">You can handle mouse events to carry out an action in your application, or use mouse location information to perform hit testing or other actions.</span></span> <span data-ttu-id="69877-107">Inoltre, è possibile modificare il modo in cui i controlli dell'applicazione gestiscono l'input del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-107">Also, you can change the way the controls in your application handle mouse input.</span></span> <span data-ttu-id="69877-108">In questo articolo vengono descritti in dettaglio questi eventi del mouse e viene illustrato come ottenere e modificare le impostazioni di sistema per il mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-108">This article describes these mouse events in detail, and how to obtain and change system settings for the mouse.</span></span>

[!INCLUDE [desktop guide under construction](../../includes/desktop-guide-preview-note.md)]

<span data-ttu-id="69877-109">In Windows Forms l'input dell'utente viene inviato alle applicazioni sotto forma di [messaggi di Windows](/windows/win32/winmsg/about-messages-and-message-queues).</span><span class="sxs-lookup"><span data-stu-id="69877-109">In Windows Forms, user input is sent to applications in the form of [Windows messages](/windows/win32/winmsg/about-messages-and-message-queues).</span></span> <span data-ttu-id="69877-110">Una serie di metodi sottoponibili a override elabora questi messaggi a livello di applicazione, di form e di controllo.</span><span class="sxs-lookup"><span data-stu-id="69877-110">A series of overridable methods process these messages at the application, form, and control level.</span></span> <span data-ttu-id="69877-111">Quando questi metodi ricevono messaggi del mouse, generano eventi che possono essere gestiti per ottenere informazioni sull'input del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-111">When these methods receive mouse messages, they raise events that can be handled to get information about the mouse input.</span></span> <span data-ttu-id="69877-112">In molti casi, Windows Forms applicazioni possono elaborare tutti gli input utente semplicemente gestendo questi eventi.</span><span class="sxs-lookup"><span data-stu-id="69877-112">In many cases, Windows Forms applications can process all user input simply by handling these events.</span></span> <span data-ttu-id="69877-113">In altri casi, è possibile che un'applicazione esegua l'override di uno dei metodi che elaborano i messaggi per intercettare un determinato messaggio prima che venga ricevuto dall'applicazione, dal form o dal controllo.</span><span class="sxs-lookup"><span data-stu-id="69877-113">In other cases, an application may override one of the methods that process messages to intercept a particular message before it's received by the application, form, or control.</span></span>

## <a name="mouse-events"></a><span data-ttu-id="69877-114">Eventi del mouse</span><span class="sxs-lookup"><span data-stu-id="69877-114">Mouse Events</span></span>

<span data-ttu-id="69877-115">Tutti i controlli Windows Forms ereditano un set di eventi relativi all'input del mouse e della tastiera.</span><span class="sxs-lookup"><span data-stu-id="69877-115">All Windows Forms controls inherit a set of events related to mouse and keyboard input.</span></span> <span data-ttu-id="69877-116">Ad esempio, un controllo può gestire l' <xref:System.Windows.Forms.Control.MouseClick> evento per determinare la posizione di un clic del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-116">For example, a control can handle the <xref:System.Windows.Forms.Control.MouseClick> event to determine the location of a mouse click.</span></span> <span data-ttu-id="69877-117">Per ulteriori informazioni sugli eventi del mouse, vedere [utilizzo degli eventi del](events.md)mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-117">For more information on the mouse events, see [Using mouse events](events.md).</span></span>

## <a name="mouse-location-and-hit-testing"></a><span data-ttu-id="69877-118">Posizione del mouse e hit testing</span><span class="sxs-lookup"><span data-stu-id="69877-118">Mouse location and hit-testing</span></span>

<span data-ttu-id="69877-119">Quando l'utente sposta il mouse, il sistema operativo sposta il puntatore del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-119">When the user moves the mouse, the operating system moves the mouse pointer.</span></span> <span data-ttu-id="69877-120">Il puntatore del mouse contiene un singolo pixel, denominato area sensibile, che il sistema operativo tiene traccia e riconosce come posizione dell'indicatore di misura.</span><span class="sxs-lookup"><span data-stu-id="69877-120">The mouse pointer contains a single pixel, called the hot spot, which the operating system tracks and recognizes as the position of the pointer.</span></span> <span data-ttu-id="69877-121">Quando l'utente sposta il mouse o preme un pulsante del mouse, l'oggetto <xref:System.Windows.Forms.Control> che contiene <xref:System.Windows.Forms.Cursor.HotSpot%2A> genera l'evento del mouse appropriato.</span><span class="sxs-lookup"><span data-stu-id="69877-121">When the user moves the mouse or presses a mouse button, the <xref:System.Windows.Forms.Control> that contains the <xref:System.Windows.Forms.Cursor.HotSpot%2A> raises the appropriate mouse event.</span></span>

<span data-ttu-id="69877-122">È possibile ottenere la posizione corrente del mouse con la <xref:System.Windows.Forms.MouseEventArgs.Location%2A> proprietà di <xref:System.Windows.Forms.MouseEventArgs> quando si gestisce un evento del mouse o utilizzando la <xref:System.Windows.Forms.Cursor.Position%2A> proprietà della <xref:System.Windows.Forms.Cursor> classe.</span><span class="sxs-lookup"><span data-stu-id="69877-122">You can obtain the current mouse position with the <xref:System.Windows.Forms.MouseEventArgs.Location%2A> property of the <xref:System.Windows.Forms.MouseEventArgs> when handling a mouse event or by using the <xref:System.Windows.Forms.Cursor.Position%2A> property of the <xref:System.Windows.Forms.Cursor> class.</span></span> <span data-ttu-id="69877-123">È quindi possibile utilizzare le informazioni sulla posizione del mouse per eseguire hit testing, quindi eseguire un'azione in base alla posizione del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-123">You can then use mouse location information to carry out hit-testing, and then perform an action based on the location of the mouse.</span></span> <span data-ttu-id="69877-124">La funzionalità di hit testing è incorporata in diversi controlli in Windows Forms, ad esempio i <xref:System.Windows.Forms.ListView> <xref:System.Windows.Forms.TreeView> <xref:System.Windows.Forms.MonthCalendar> controlli, e <xref:System.Windows.Forms.DataGridView> .</span><span class="sxs-lookup"><span data-stu-id="69877-124">Hit-testing capability is built in to several controls in Windows Forms such as the <xref:System.Windows.Forms.ListView>, <xref:System.Windows.Forms.TreeView>, <xref:System.Windows.Forms.MonthCalendar> and <xref:System.Windows.Forms.DataGridView> controls.</span></span>

<span data-ttu-id="69877-125">Usato con l'evento del mouse appropriato, <xref:System.Windows.Forms.Control.MouseHover> ad esempio, hit testing è molto utile per determinare quando l'applicazione deve eseguire un'azione specifica.</span><span class="sxs-lookup"><span data-stu-id="69877-125">Used with the appropriate mouse event, <xref:System.Windows.Forms.Control.MouseHover> for example, hit-testing is very useful for determining when your application should do a specific action.</span></span>

## <a name="changing-mouse-input-settings"></a><span data-ttu-id="69877-126">Modifica delle impostazioni di input del mouse</span><span class="sxs-lookup"><span data-stu-id="69877-126">Changing mouse input settings</span></span>

<span data-ttu-id="69877-127">È possibile rilevare e modificare il modo in cui un controllo gestisce l'input del mouse derivando dal controllo e utilizzando i <xref:System.Windows.Forms.Control.GetStyle%2A> <xref:System.Windows.Forms.Control.SetStyle%2A> metodi e.</span><span class="sxs-lookup"><span data-stu-id="69877-127">You can detect and change the way a control handles mouse input by deriving from the control and using the <xref:System.Windows.Forms.Control.GetStyle%2A> and <xref:System.Windows.Forms.Control.SetStyle%2A> methods.</span></span> <span data-ttu-id="69877-128">Il <xref:System.Windows.Forms.Control.SetStyle%2A> metodo accetta una combinazione bit per bit di <xref:System.Windows.Forms.ControlStyles> valori per determinare se il controllo avrà un clic standard, il comportamento di doppio clic o se il controllo gestirà la propria elaborazione del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-128">The <xref:System.Windows.Forms.Control.SetStyle%2A> method takes a bitwise combination of <xref:System.Windows.Forms.ControlStyles> values to determine whether the control will have standard click, double-click behavior, or if the control will handle its own mouse processing.</span></span> <span data-ttu-id="69877-129">Inoltre, la <xref:System.Windows.Forms.SystemInformation> classe include le proprietà che descrivono le funzionalità del mouse e specificano il modo in cui il mouse interagisce con il sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="69877-129">Also, the <xref:System.Windows.Forms.SystemInformation> class includes properties that describe the capabilities of the mouse and specify how the mouse interacts with the operating system.</span></span> <span data-ttu-id="69877-130">Nella tabella seguente sono riepilogate queste proprietà.</span><span class="sxs-lookup"><span data-stu-id="69877-130">The following table summarizes these properties.</span></span>

| <span data-ttu-id="69877-131">Proprietà</span><span class="sxs-lookup"><span data-stu-id="69877-131">Property</span></span>                                                               | <span data-ttu-id="69877-132">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69877-132">Description</span></span>                                                                                                                                                            |
|------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <xref:System.Windows.Forms.SystemInformation.DoubleClickSize%2A>       | <span data-ttu-id="69877-133">Ottiene le dimensioni, in pixel, dell'area in cui l'utente deve fare clic due volte affinché il sistema operativo consideri i due clic come un doppio clic.</span><span class="sxs-lookup"><span data-stu-id="69877-133">Gets the dimensions, in pixels, of the area in which the user must click twice for the operating system to consider the two clicks a double-click.</span></span>                     |
| <xref:System.Windows.Forms.SystemInformation.DoubleClickTime%2A>       | <span data-ttu-id="69877-134">Ottiene il numero massimo di millisecondi che possono trascorrere tra un primo clic e un secondo clic per fare in modo che l'azione del mouse venga considerata come un doppio clic.</span><span class="sxs-lookup"><span data-stu-id="69877-134">Gets the maximum number of milliseconds that can elapse between a first click and a second click for the mouse action to be considered a double-click.</span></span> |
| <xref:System.Windows.Forms.SystemInformation.MouseButtons%2A>          | <span data-ttu-id="69877-135">Ottiene il numero di pulsanti del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-135">Gets the number of buttons on the mouse.</span></span>                                                                                                                               |
| <xref:System.Windows.Forms.SystemInformation.MouseButtonsSwapped%2A>   | <span data-ttu-id="69877-136">Ottiene un valore che indica se le funzioni dei pulsanti sinistro e destro sono state invertite.</span><span class="sxs-lookup"><span data-stu-id="69877-136">Gets a value indicating whether the functions of the left and right mouse buttons have been swapped.</span></span>                                                                   |
| <xref:System.Windows.Forms.SystemInformation.MouseHoverSize%2A>        | <span data-ttu-id="69877-137">Ottiene le dimensioni, in pixel, del rettangolo all'interno del quale il puntatore del mouse deve rimanere per l'intervallo di tempo richiesto perché sia generato un messaggio visualizzato al passaggio del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-137">Gets the dimensions, in pixels, of the rectangle within which the mouse pointer has to stay for the mouse hover time before a mouse hover message is generated.</span></span>        |
| <xref:System.Windows.Forms.SystemInformation.MouseHoverTime%2A>        | <span data-ttu-id="69877-138">Ottiene il tempo, in millisecondi, per il quale il puntatore del mouse deve soffermarsi nell'area rettangolare sensibile al passaggio del mouse prima che venga generato un messaggio.</span><span class="sxs-lookup"><span data-stu-id="69877-138">Gets the time, in milliseconds, that the mouse pointer has to stay in the hover rectangle before a mouse hover message is generated.</span></span>                                   |
| <xref:System.Windows.Forms.SystemInformation.MousePresent%2A>          | <span data-ttu-id="69877-139">Ottiene un valore che indica se è installato un mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-139">Gets a value indicating whether a mouse is installed.</span></span>                                                                                                                  |
| <xref:System.Windows.Forms.SystemInformation.MouseSpeed%2A>            | <span data-ttu-id="69877-140">Ottiene un valore che indica la velocità corrente del mouse, da 1 a 20.</span><span class="sxs-lookup"><span data-stu-id="69877-140">Gets a value indicating the current mouse speed, from 1 to 20.</span></span>                                                                                                         |
| <xref:System.Windows.Forms.SystemInformation.MouseWheelPresent%2A>     | <span data-ttu-id="69877-141">Ottiene un valore che indica se è installato un mouse con rotellina del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-141">Gets a value indicating whether a mouse with a mouse wheel is installed.</span></span>                                                                                               |
| <xref:System.Windows.Forms.SystemInformation.MouseWheelScrollDelta%2A> | <span data-ttu-id="69877-142">Ottiene la quantità del valore Delta dell'incremento di una singola rotazione della rotellina del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-142">Gets the amount of the delta value of the increment of a single mouse wheel rotation.</span></span>                                                                                  |
| <xref:System.Windows.Forms.SystemInformation.MouseWheelScrollLines%2A> | <span data-ttu-id="69877-143">Ottiene il numero di righe da scorrere quando viene ruotata la rotellina del mouse.</span><span class="sxs-lookup"><span data-stu-id="69877-143">Gets the number of lines to scroll when the mouse wheel is rotated.</span></span>                                                                                                    |

## <a name="methods-that-process-user-input-messages"></a><span data-ttu-id="69877-144">Metodi che elaborano i messaggi di input dell'utente</span><span class="sxs-lookup"><span data-stu-id="69877-144">Methods that process user input messages</span></span>

<span data-ttu-id="69877-145">I form e i controlli hanno accesso all' <xref:System.Windows.Forms.IMessageFilter> interfaccia e a un set di metodi sottoponibili a override che elaborano i messaggi di Windows in punti diversi della coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="69877-145">Forms and controls have access to the <xref:System.Windows.Forms.IMessageFilter> interface and a set of overridable methods that process Windows messages at different points in the message queue.</span></span> <span data-ttu-id="69877-146">Tutti questi metodi hanno un <xref:System.Windows.Forms.Message> parametro che incapsula i dettagli di basso livello dei messaggi di Windows.</span><span class="sxs-lookup"><span data-stu-id="69877-146">These methods all have a <xref:System.Windows.Forms.Message> parameter, which encapsulates the low-level details of Windows messages.</span></span> <span data-ttu-id="69877-147">È possibile implementare o eseguire l'override di questi metodi per esaminare il messaggio e quindi utilizzare il messaggio o passarlo al consumer successivo nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="69877-147">You can implement or override these methods to examine the message and then either consume the message or pass it on to the next consumer in the message queue.</span></span> <span data-ttu-id="69877-148">Nella tabella seguente vengono illustrati i metodi che elaborano tutti i messaggi di Windows in Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="69877-148">The following table presents the methods that process all Windows messages in Windows Forms.</span></span>

| <span data-ttu-id="69877-149">Metodo</span><span class="sxs-lookup"><span data-stu-id="69877-149">Method</span></span>     | <span data-ttu-id="69877-150">Note</span><span class="sxs-lookup"><span data-stu-id="69877-150">Notes</span></span> |
|------------|-----------|
| <xref:System.Windows.Forms.IMessageFilter.PreFilterMessage%2A> | <span data-ttu-id="69877-151">Questo metodo intercetta i messaggi di Windows accodati (noti anche come inviati) a livello di applicazione.</span><span class="sxs-lookup"><span data-stu-id="69877-151">This method intercepts queued (also known as posted) Windows messages at the application level.</span></span>|
| <xref:System.Windows.Forms.Control.PreProcessMessage%2A>       | <span data-ttu-id="69877-152">Questo metodo intercetta i messaggi di Windows a livello di form e di controllo prima di essere elaborati.</span><span class="sxs-lookup"><span data-stu-id="69877-152">This method intercepts Windows messages at the form and control level before they have been processed.</span></span>|
| <xref:System.Windows.Forms.Control.WndProc%2A>                 | <span data-ttu-id="69877-153">Questo metodo elabora i messaggi di Windows a livello di form e di controllo.</span><span class="sxs-lookup"><span data-stu-id="69877-153">This method processes Windows messages at the form and control level.</span></span>|
| <xref:System.Windows.Forms.Control.DefWndProc%2A>              | <span data-ttu-id="69877-154">Questo metodo esegue l'elaborazione predefinita dei messaggi di Windows a livello di form e di controllo.</span><span class="sxs-lookup"><span data-stu-id="69877-154">This method performs the default processing of Windows messages at the form and control level.</span></span> <span data-ttu-id="69877-155">In questo modo viene fornita la funzionalità minima di una finestra.</span><span class="sxs-lookup"><span data-stu-id="69877-155">This provides the minimal functionality of a window.</span></span>|
| <xref:System.Windows.Forms.Control.OnNotifyMessage%2A>         | <span data-ttu-id="69877-156">Questo metodo intercetta i messaggi a livello di form e di controllo, dopo che sono stati elaborati.</span><span class="sxs-lookup"><span data-stu-id="69877-156">This method intercepts messages at the form and control level, after they've been processed.</span></span> <span data-ttu-id="69877-157"><xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage>Per chiamare questo metodo, è necessario impostare il bit di stile.</span><span class="sxs-lookup"><span data-stu-id="69877-157">The <xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage> style bit must be set for this method to be called.</span></span>|

## <a name="see-also"></a><span data-ttu-id="69877-158">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="69877-158">See also</span></span>

- [<span data-ttu-id="69877-159">Utilizzo degli eventi del mouse (Windows Forms .NET)</span><span class="sxs-lookup"><span data-stu-id="69877-159">Using mouse events (Windows Forms .NET)</span></span>](events.md)
- [<span data-ttu-id="69877-160">Panoramica sul comportamento del mouse di trascinamento della selezione (Windows Forms .NET)</span><span class="sxs-lookup"><span data-stu-id="69877-160">Drag-and-drop mouse behavior overview (Windows Forms .NET)</span></span>](drag-and-drop.md)
- [<span data-ttu-id="69877-161">Gestire i puntatori del mouse (Windows Forms .NET)</span><span class="sxs-lookup"><span data-stu-id="69877-161">Manage mouse pointers (Windows Forms .NET)</span></span>](how-to-manage-cursor-pointer.md)
