---
title: Cenni preliminari sulle impostazioni delle applicazioni
description: Informazioni sulla funzionalità Impostazioni applicazione di Windows Forms, ad esempio su come creare e archiviare i dati delle impostazioni per conto dell'applicazione e degli utenti.
ms.date: 03/30/2017
ms.topic: overview
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: fee810f2ed8dece1c804aba0003734470734760f
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/09/2020
ms.locfileid: "96960736"
---
# <a name="application-settings-overview"></a><span data-ttu-id="b84ab-103">Cenni preliminari sulle impostazioni delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="b84ab-103">Application Settings Overview</span></span>

<span data-ttu-id="b84ab-104">Questo articolo illustra come creare e archiviare i dati delle impostazioni per conto dell'applicazione e degli utenti.</span><span class="sxs-lookup"><span data-stu-id="b84ab-104">This article discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="b84ab-105">La funzionalità Impostazioni applicazione di Windows Form semplifica le operazioni di creazione, archiviazione e gestione delle preferenze personalizzate a livello di applicazione e utente nel computer client.</span><span class="sxs-lookup"><span data-stu-id="b84ab-105">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="b84ab-106">Le impostazioni dell'applicazione Windows Form consentono non solo di archiviare dati applicativi quali stringhe di connessione a database, ma anche dati specifici dell'utente, quali preferenze per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-106">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="b84ab-107">L'uso di Visual Studio o di codice gestito personalizzato consente di creare nuove impostazioni, leggerle e scriverle su disco, associarle a proprietà di form e convalidare i dati delle impostazioni prima di caricarle e salvarle.</span><span class="sxs-lookup"><span data-stu-id="b84ab-107">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="b84ab-108">Le impostazioni dell'applicazione consentono agli sviluppatori di salvare lo stato nell'applicazione utilizzando codice personalizzato molto ridotto e sostituisce le proprietà dinamiche nelle versioni precedenti del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b84ab-108">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="b84ab-109">Contengono molti miglioramenti rispetto alle proprietà dinamiche, che sono di sola lettura, ad associazione tardiva e richiedono ulteriore programmazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="b84ab-109">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="b84ab-110">Le classi di proprietà dinamiche sono state mantenute nel .NET Framework 2,0, ma sono semplicemente classi shell che eseguono il wrapping delle classi delle impostazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-110">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="b84ab-111">Informazioni sulle impostazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="b84ab-111">What Are Application Settings</span></span>

 <span data-ttu-id="b84ab-112">Le applicazioni Windows Forms spesso richiedono dati cruciali per l'esecuzione dell'applicazione, ma che non si desidera includere direttamente nel codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-112">Your Windows Forms applications will often require data that's critical to running the application, but which you don't want to include directly in the application's code.</span></span> <span data-ttu-id="b84ab-113">Se l'applicazione usa un servizio Web o un server di database, è possibile archiviare queste informazioni in un file separato, in modo che sia possibile modificarle in futuro senza ricompilare.</span><span class="sxs-lookup"><span data-stu-id="b84ab-113">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without recompiling.</span></span> <span data-ttu-id="b84ab-114">Analogamente, è possibile che le applicazioni richiedano di archiviare dati specifici per l'utente corrente.</span><span class="sxs-lookup"><span data-stu-id="b84ab-114">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="b84ab-115">Molte applicazioni, ad esempio, dispongono di preferenze utente che ne personalizzano l'aspetto e il comportamento.</span><span class="sxs-lookup"><span data-stu-id="b84ab-115">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="b84ab-116">Le impostazioni dell'applicazione soddisfano entrambe le necessità in quanto costituiscono un semplice metodo per l'archiviazione di impostazioni tanto a livello di applicazione quanto a livello di utente nel computer client.</span><span class="sxs-lookup"><span data-stu-id="b84ab-116">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="b84ab-117">Usando Visual Studio o un editor di codice è possibile definire un'impostazione per una data proprietà specificandone il nome, il tipo di dati e l'ambito (applicazione o utente).</span><span class="sxs-lookup"><span data-stu-id="b84ab-117">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="b84ab-118">È anche possibile inserire impostazioni correlate in gruppi denominati per semplificarne l'impiego e la leggibilità.</span><span class="sxs-lookup"><span data-stu-id="b84ab-118">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="b84ab-119">Una volta definite, le impostazioni assumono carattere permanente e vengono lette automaticamente in memoria in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-119">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="b84ab-120">Un'architettura modulare rende possibile la modifica del meccanismo di persistenza, ma per impostazione predefinita viene usato il file system locale.</span><span class="sxs-lookup"><span data-stu-id="b84ab-120">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="b84ab-121">Impostazioni applicazione rende permanenti i dati in formato XML inserendoli in file di configurazione diversi (con estensione config) a seconda dell'ambito dell'impostazione (applicazione o utente).</span><span class="sxs-lookup"><span data-stu-id="b84ab-121">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="b84ab-122">Nella maggior parte dei casi le impostazioni relative all'applicazione sono di sola lettura perché contengono informazioni sul programma e normalmente non è necessario sovrascriverle.</span><span class="sxs-lookup"><span data-stu-id="b84ab-122">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="b84ab-123">Per contro, le impostazioni relative all'utente possono essere lette e scritte senza problemi in fase di esecuzione anche se l'applicazione è eseguita con attendibilità parziale.</span><span class="sxs-lookup"><span data-stu-id="b84ab-123">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="b84ab-124">Per altre informazioni sull'attendibilità parziale, vedere [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b84ab-124">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="b84ab-125">Le impostazioni vengono archiviate come frammenti XML nei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-125">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="b84ab-126">Le impostazioni con ambito di applicazione sono rappresentate dall'elemento `<applicationSettings>` e di solito sono inserite in *app*.exe.config, dove *app* è il nome del file eseguibile principale.</span><span class="sxs-lookup"><span data-stu-id="b84ab-126">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="b84ab-127">Le impostazioni con ambito di utente sono rappresentate dall'elemento `<userSettings>` e inserite in *utente*.config, dove *utente* è il nome dell'utente che esegue l'applicazione in quel momento.</span><span class="sxs-lookup"><span data-stu-id="b84ab-127">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="b84ab-128">È necessario distribuire il file *app*.exe.config con l'applicazione. L'architettura delle impostazioni creerà i file *utente*.config su richiesta la prima volta che nell'applicazione verranno salvate le impostazioni per tale utente.</span><span class="sxs-lookup"><span data-stu-id="b84ab-128">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="b84ab-129">È anche possibile definire un blocco `<userSettings>` in *app*.exe.config per fornire valori predefiniti per le impostazioni con ambito di utente.</span><span class="sxs-lookup"><span data-stu-id="b84ab-129">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="b84ab-130">Anche per i controlli personalizzati è possibile salvare le impostazioni implementando l'interfaccia <xref:System.Configuration.IPersistComponentSettings> , che espone il metodo <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> .</span><span class="sxs-lookup"><span data-stu-id="b84ab-130">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="b84ab-131">Il controllo <xref:System.Windows.Forms.ToolStrip> di Windows Form implementa questa interfaccia per salvare la posizione delle barre degli strumenti e dei relativi elementi tra le sessioni di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-131">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="b84ab-132">Per altre informazioni sui controlli personalizzati e le impostazioni dell'applicazione, vedere [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="b84ab-132">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="b84ab-133">Limitazioni della funzionalità Impostazioni applicazione</span><span class="sxs-lookup"><span data-stu-id="b84ab-133">Limitations of Application Settings</span></span>

 <span data-ttu-id="b84ab-134">Non è possibile usare le impostazioni dell'applicazione in un'applicazione non gestita che ospita il .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b84ab-134">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="b84ab-135">Le impostazioni non funzioneranno correttamente in ambienti come i componenti aggiuntivi di Visual Studio, C++ per Microsoft Office, i controlli contenuti in Internet Explorer o i componenti aggiuntivi e i progetti di Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="b84ab-135">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="b84ab-136">Al momento non è possibile eseguire l'associazione ad alcune proprietà nei Windows Form.</span><span class="sxs-lookup"><span data-stu-id="b84ab-136">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="b84ab-137">L'esempio più evidente è la proprietà <xref:System.Windows.Forms.Form.ClientSize%2A> , in quanto eseguendo l'associazione a questa proprietà si genera un comportamento non prevedibile in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-137">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="b84ab-138">In genere è possibile ovviare a questi problemi salvando e caricando le impostazioni a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="b84ab-138">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="b84ab-139">Le impostazioni dell'applicazione non includono funzionalità incorporate per crittografare automaticamente le informazioni.</span><span class="sxs-lookup"><span data-stu-id="b84ab-139">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="b84ab-140">Non archiviare mai informazioni correlate alla sicurezza, ad esempio password di database, in testo non crittografato.</span><span class="sxs-lookup"><span data-stu-id="b84ab-140">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="b84ab-141">Se si vogliono archiviare informazioni riservate, lo sviluppatore dell'applicazione è responsabile di garantirne la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b84ab-141">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="b84ab-142">Se si vogliono archiviare le stringhe di connessione, è consigliabile usare la sicurezza integrata di Windows e non ricorrere a password impostate come hardcoded nell'URL.</span><span class="sxs-lookup"><span data-stu-id="b84ab-142">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="b84ab-143">Per altre informazioni, vedere [Code Access Security and ADO.NET](/dotnet/framework/data/adonet/code-access-security).</span><span class="sxs-lookup"><span data-stu-id="b84ab-143">For more information, see [Code Access Security and ADO.NET](/dotnet/framework/data/adonet/code-access-security).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="b84ab-144">Guida introduttiva alle impostazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="b84ab-144">Getting Started with Application Settings</span></span>

 <span data-ttu-id="b84ab-145">Se si usa Visual Studio, per definire le impostazioni in Progettazione Windows Form usare la proprietà **(ApplicationSettings)** nella finestra **Proprietà** .</span><span class="sxs-lookup"><span data-stu-id="b84ab-145">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="b84ab-146">Quando si definiscono le impostazioni in questo modo, Visual Studio crea automaticamente una classe wrapper gestita personalizzata che associa ogni impostazione a una proprietà della classe.</span><span class="sxs-lookup"><span data-stu-id="b84ab-146">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class that associates each setting with a class property.</span></span> <span data-ttu-id="b84ab-147">Visual Studio stabilisce inoltre l'associazione tra l'impostazione e una proprietà su un form o controllo, in modo che le impostazioni del controllo vengano ripristinate automaticamente alla visualizzazione del form e salvate automaticamente alla chiusura.</span><span class="sxs-lookup"><span data-stu-id="b84ab-147">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="b84ab-148">Se si desidera un controllo maggiore sulle impostazioni, è possibile definire una classe wrapper personalizzata per le impostazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b84ab-148">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="b84ab-149">Questa operazione viene eseguita derivando una classe da <xref:System.Configuration.ApplicationSettingsBase>, aggiungendo una proprietà corrispondente a ogni impostazione e applicando attributi speciali alle proprietà.</span><span class="sxs-lookup"><span data-stu-id="b84ab-149">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="b84ab-150">Per informazioni dettagliate sulla creazione di classi wrapper, vedere [Application Settings Architecture](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="b84ab-150">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="b84ab-151">È anche possibile usare la classe <xref:System.Windows.Forms.Binding> per associare le impostazioni alle proprietà a livello di codice su form e controlli.</span><span class="sxs-lookup"><span data-stu-id="b84ab-151">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="b84ab-152">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b84ab-152">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="b84ab-153">Procedura: Convalidare le impostazioni applicazione</span><span class="sxs-lookup"><span data-stu-id="b84ab-153">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="b84ab-154">Gestione delle impostazioni di un'applicazione (.NET)</span><span class="sxs-lookup"><span data-stu-id="b84ab-154">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="b84ab-155">Procedura: Leggere le impostazioni in fase di esecuzione con C#</span><span class="sxs-lookup"><span data-stu-id="b84ab-155">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="b84ab-156">Utilizzo delle impostazioni applicazione e delle impostazioni utente</span><span class="sxs-lookup"><span data-stu-id="b84ab-156">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="b84ab-157">Architettura Impostazioni applicazione</span><span class="sxs-lookup"><span data-stu-id="b84ab-157">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="b84ab-158">Impostazioni delle applicazioni per i controlli personalizzati</span><span class="sxs-lookup"><span data-stu-id="b84ab-158">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
